import{$ as z,A as O,B as se,D as g,E as i,F as S,G as v,J as le,K as R,L as ce,O as W,P as me,Q as de,R as pe,T as A,U as b,V as x,W as ge,X as C,Y as T,Z as N,_ as u,a as Q,aa as F,c as te,ca as I,d as E,f as y,fa as L,g as k,ga as H,h as l,k as ne,m as s,ma as D,na as j,o as h,oa as V,p as oe,pa as ue,q as d,r as p,s as re,sa as P,t as ie,u as ae,v as M,w as o,x as r,y as m}from"./chunk-PFRGIR2F.js";var q=class t{static \u0275fac=function(a){return new(a||t)};static \u0275cmp=h({type:t,selectors:[["app-auth-layout"]],decls:23,vars:0,consts:[[1,"app-shell"],[1,"auth-shell"],[1,"intro-panel"],[1,"intro-content"],[1,"brand"],[1,"brand-mark"],[1,"eyebrow"],[1,"intro-copy"],[1,"intro-list"],[1,"auth-panel"]],template:function(a,e){a&1&&(o(0,"div",0)(1,"main",1)(2,"section",2)(3,"div",3)(4,"div",4)(5,"span",5),i(6,"V"),r(),o(7,"div")(8,"p",6),i(9,"Vocatio"),r(),o(10,"h1"),i(11,"El primer paso hacia tu carrera ideal"),r()()(),o(12,"p",7),i(13,"Gestiona tus datos y realiza pruebas vocacionales guiadas."),r(),o(14,"ul",8)(15,"li"),i(16,"Reg\xEDstrate con seguridad"),r(),o(17,"li"),i(18,"Protege tu informaci\xF3n"),r(),o(19,"li"),i(20,"Accede a recomendaciones contextualizadas"),r()()()(),o(21,"section",9),m(22,"router-outlet"),r()()())},dependencies:[C,A],styles:['[_nghost-%COMP%]{display:block;min-height:100vh;background:var(--bg-color);color:var(--text-color)}.app-shell[_ngcontent-%COMP%]{min-height:100vh;padding:2rem 1.5rem;display:flex;justify-content:center;align-items:center}.auth-shell[_ngcontent-%COMP%]{width:min(1100px,100%);background:#fff;border-radius:2rem;box-shadow:0 25px 50px -12px #0000001a;display:flex;overflow:hidden;min-height:600px;border:1px solid var(--border-color)}.intro-panel[_ngcontent-%COMP%]{flex:1;background:linear-gradient(135deg,var(--analyst-purple) 0%,var(--sentinel-blue) 100%);padding:4rem;display:flex;align-items:center;color:#fff;position:relative;overflow:hidden}.intro-panel[_ngcontent-%COMP%]:before, .intro-panel[_ngcontent-%COMP%]:after{content:"";position:absolute;border-radius:50%;background:#ffffff1a}.intro-panel[_ngcontent-%COMP%]:before{width:300px;height:300px;top:-50px;left:-50px}.intro-panel[_ngcontent-%COMP%]:after{width:200px;height:200px;bottom:50px;right:-50px}.intro-content[_ngcontent-%COMP%]{max-width:400px;position:relative;z-index:1}.brand[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-bottom:2rem}.brand-mark[_ngcontent-%COMP%]{width:3.5rem;height:3.5rem;border-radius:1rem;background:#fff;color:var(--analyst-purple);display:inline-flex;align-items:center;justify-content:center;font-weight:800;font-size:1.5rem;box-shadow:0 10px 15px -3px #0000001a}.eyebrow[_ngcontent-%COMP%]{text-transform:uppercase;letter-spacing:.2em;font-size:.85rem;margin:0;color:#ffffffe6;font-weight:700}.intro-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:clamp(2.5rem,4vw,3rem);line-height:1.1;margin:0 0 1.5rem;color:#fff}.intro-copy[_ngcontent-%COMP%]{color:#ffffffe6;font-size:1.1rem;line-height:1.6;margin-bottom:2rem}.intro-list[_ngcontent-%COMP%]{margin:0;padding-left:0;list-style:none;display:grid;gap:1rem}.intro-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;color:#fff;font-weight:600}.intro-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2713";display:inline-flex;align-items:center;justify-content:center;width:1.5rem;height:1.5rem;background:#fff3;border-radius:50%;font-size:.8rem;font-weight:800}.auth-panel[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;justify-content:center;padding:3rem;background:#fff}@media(max-width:960px){.auth-shell[_ngcontent-%COMP%]{flex-direction:column;height:auto;min-height:auto}.intro-panel[_ngcontent-%COMP%]{padding:3rem 2rem;order:-1}.auth-panel[_ngcontent-%COMP%]{padding:2rem}}']})};var B=class t{router=l(b);message=this.getRouterMessage()??(typeof history<"u"?history.state?.message:void 0)??"No pudimos verificar tus credenciales. Verifica tus datos e int\xE9ntalo de nuevo.";getRouterMessage(){let n=this.router.getCurrentNavigation()?.extras.state;if(n)return n.message}returnToLogin(){this.router.navigate(["/auth/login"])}static \u0275fac=function(a){return new(a||t)};static \u0275cmp=h({type:t,selectors:[["app-invalid-credentials-page"]],decls:13,vars:1,consts:[[1,"auth-card"],[1,"eyebrow"],[1,"subtitle"],["type","button",1,"primary-action",3,"click"],[1,"note"],["routerLink","/auth/register"]],template:function(a,e){a&1&&(o(0,"section",0)(1,"p",1),i(2,"Acceso denegado"),r(),o(3,"h2"),i(4,"Credenciales incorrectas"),r(),o(5,"p",2),i(6),r(),o(7,"button",3),O("click",function(){return e.returnToLogin()}),i(8," Volver a iniciar sesi\xF3n "),r(),o(9,"p",4),i(10," \xBFA\xFAn no tienes cuenta? "),o(11,"a",5),i(12,"Crea una ahora"),r()()()),a&2&&(s(6),v(" ",e.message," "))},dependencies:[C,x],styles:["[_nghost-%COMP%]{display:block;width:100%}.auth-card[_ngcontent-%COMP%]{width:min(420px,100%);background:var(--card-bg);border-radius:2rem;padding:2.5rem;border:1px solid var(--border-color);box-shadow:0 10px 25px #0000000d}.auth-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.75rem;font-weight:800;color:var(--text-color)}.eyebrow[_ngcontent-%COMP%]{font-weight:700;color:var(--analyst-purple);text-transform:uppercase;letter-spacing:1px;font-size:.85rem;margin-bottom:.5rem}.subtitle[_ngcontent-%COMP%]{margin-top:.5rem;margin-bottom:2rem;color:#718096;line-height:1.5}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:1.25rem;font-size:.9rem;color:var(--text-color);font-weight:600}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background:#f7fafc;border:2px solid var(--border-color);color:var(--text-color);border-radius:1rem;padding:.9rem 1rem;font-size:1rem;font-family:var(--font-family-base);transition:border-color .2s}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .field[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{border-color:var(--analyst-purple);outline:none;background:#fff}.field[_ngcontent-%COMP%]   input.invalid[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   select.invalid[_ngcontent-%COMP%]{border-color:#fc8181}.field-error[_ngcontent-%COMP%]{color:#e53e3e;font-size:.8rem;margin-top:.25rem}.primary-action[_ngcontent-%COMP%]{width:100%;border:none;padding:1rem;border-radius:1rem;font-size:1.1rem;font-weight:700;color:#fff;background:var(--analyst-purple);cursor:pointer;transition:transform .2s,box-shadow .2s;margin-top:1rem;box-shadow:0 4px 14px #88619a66}.primary-action[disabled][_ngcontent-%COMP%]{opacity:.8;cursor:not-allowed;box-shadow:none;transform:none}.primary-action[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.5rem}.primary-action[_ngcontent-%COMP%]   .loading-indicator[_ngcontent-%COMP%]{width:1rem;height:1rem;border-radius:50%;border:2px solid rgba(255,255,255,.35);border-top-color:#fff;animation:_ngcontent-%COMP%_spin .85s linear infinite}.primary-action.loading[_ngcontent-%COMP%]{pointer-events:none;box-shadow:none}.primary-action[_ngcontent-%COMP%]:not(.loading)   .loading-indicator[_ngcontent-%COMP%]{display:none}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.primary-action[_ngcontent-%COMP%]:focus-visible{outline:3px solid rgba(136,97,154,.6);outline-offset:2px}.primary-action[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #88619a99}.primary-action[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;transform:none}.secondary-action[_ngcontent-%COMP%]{width:100%;background:transparent;border:2px solid var(--border-color);margin-top:.5rem}.note[_ngcontent-%COMP%]{margin-top:1.5rem;font-size:.9rem;color:#718096;text-align:center}.note[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--analyst-purple);text-decoration:none;font-weight:700}.note[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.feedback[_ngcontent-%COMP%]{margin-top:1rem;min-height:1.25rem;font-size:.9rem;text-align:center;font-weight:600}.feedback.success[_ngcontent-%COMP%]{color:var(--diplomat-green)}.feedback.error[_ngcontent-%COMP%]{color:#e53e3e}.policy-list[_ngcontent-%COMP%]{margin-top:1rem;font-size:.85rem;color:#718096;display:grid;gap:.25rem}.policy-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:disc;margin-left:1.25rem}.checkbox-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.checkbox-row[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:1.2rem;height:1.2rem;border-radius:.4rem;accent-color:var(--analyst-purple)}"]})};var w=class t{constructor(n){this.http=n}register(n){return this.http.post(V.register,n)}login(n){return this.http.post(V.login,n)}changePassword(n){return this.http.post(V.changePassword,n)}deleteAccount(n){return this.http.delete(ue.me,{body:n})}static \u0275fac=function(a){return new(a||t)(k(me))};static \u0275prov=y({token:t,factory:t.\u0275fac,providedIn:"root"})};function Me(t,n){t&1&&(o(0,"small",6),i(1," El email es requerido. "),r())}function Oe(t,n){t&1&&(o(0,"small",6),i(1," Ingresa un correo v\xE1lido. "),r())}function xe(t,n){t&1&&(o(0,"small",6),i(1," La contrase\xF1a es requerida. "),r())}function we(t,n){t&1&&(o(0,"small",6),i(1," M\xEDnimo 6 caracteres. "),r())}function Ee(t,n){t&1&&m(0,"span",12)}var Y=class t{fb=l(D);authService=l(w);session=l(P);router=l(b);cdr=l(R);credentials=this.fb.group({email:["",[u.required,u.email]],password:["",[u.required,u.minLength(6)]],rememberMe:[!1]});feedback="";success=!1;loading=!1;onSubmit(){if(this.credentials.invalid){this.credentials.markAllAsTouched();return}let{email:n,password:a,rememberMe:e}=this.credentials.value,f={email:n??"",password:a??"",rememberMe:!!e};this.loading=!0,this.feedback="",this.authService.login(f).pipe(E(()=>{this.loading=!1,this.cdr.detectChanges()})).subscribe({next:c=>{this.success=!0,this.feedback=c.message,this.session.saveTokens(c.tokens),this.router.navigate(["/home"])},error:c=>{this.success=!1;let ee=this.extractErrorMessage(c);this.feedback=ee,c.status===401&&this.router.navigate(["/auth/invalid-credentials"],{state:{message:ee}})}})}extractErrorMessage(n){return n.error?.message??n.message??"Ocurri\xF3 un error inesperado"}static \u0275fac=function(a){return new(a||t)};static \u0275cmp=h({type:t,selectors:[["app-login-page"]],decls:35,vars:20,consts:[[1,"auth-card"],[1,"eyebrow"],[1,"subtitle"],[3,"ngSubmit","formGroup"],[1,"field"],["type","email","formControlName","email","placeholder","correo@ejemplo.com"],[1,"field-error"],["type","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"],[1,"checkbox-row"],["type","checkbox","formControlName","rememberMe","id","rememberMe"],["for","rememberMe"],["type","submit",1,"primary-action",3,"disabled"],["aria-hidden","true",1,"loading-indicator"],[1,"label"],[1,"note"],["routerLink","/auth/register"],["role","status","aria-live","polite",1,"feedback"]],template:function(a,e){a&1&&(o(0,"section",0)(1,"p",1),i(2,"Ingreso"),r(),o(3,"h2"),i(4,"Bienvenido de nuevo"),r(),o(5,"p",2),i(6,"Introduce tus credenciales para continuar con tus exploraciones vocacionales."),r(),o(7,"form",3),O("ngSubmit",function(){return e.onSubmit()}),o(8,"label",4)(9,"span"),i(10,"Correo electr\xF3nico"),r(),m(11,"input",5),d(12,Me,2,0,"small",6),d(13,Oe,2,0,"small",6),r(),o(14,"label",4)(15,"span"),i(16,"Contrase\xF1a"),r(),m(17,"input",7),d(18,xe,2,0,"small",6),d(19,we,2,0,"small",6),r(),o(20,"label",4)(21,"div",8),m(22,"input",9),o(23,"label",10),i(24,"Mantener sesi\xF3n activa"),r()()(),o(25,"button",11),d(26,Ee,1,0,"span",12),o(27,"span",13),i(28),r()()(),o(29,"p",14),i(30," \xBFA\xFAn no tienes cuenta? "),o(31,"a",15),i(32,"Crea una ahora"),r()(),o(33,"p",16),i(34),r()()),a&2&&(s(7),M("formGroup",e.credentials),s(4),g("invalid",e.credentials.controls.email.invalid&&e.credentials.controls.email.touched),s(),p(e.credentials.controls.email.touched&&e.credentials.controls.email.hasError("required")?12:-1),s(),p(e.credentials.controls.email.touched&&e.credentials.controls.email.hasError("email")?13:-1),s(4),g("invalid",e.credentials.controls.password.invalid&&e.credentials.controls.password.touched),s(),p(e.credentials.controls.password.touched&&e.credentials.controls.password.hasError("required")?18:-1),s(),p(e.credentials.controls.password.touched&&e.credentials.controls.password.hasError("minlength")?19:-1),s(6),g("loading",e.loading),M("disabled",e.credentials.invalid||e.loading),oe("aria-busy",e.loading),s(),p(e.loading?26:-1),s(2),S(e.loading?"Validando...":"Entrar"),s(5),g("success",e.success)("error",e.feedback&&!e.success),s(),v(" ",e.feedback," "))},dependencies:[j,I,N,T,z,F,H,L,C,x],styles:["[_nghost-%COMP%]{display:block;width:100%}.auth-card[_ngcontent-%COMP%]{width:min(420px,100%);background:var(--card-bg);border-radius:2rem;padding:2.5rem;border:1px solid var(--border-color);box-shadow:0 10px 25px #0000000d}.auth-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.75rem;font-weight:800;color:var(--text-color)}.eyebrow[_ngcontent-%COMP%]{font-weight:700;color:var(--analyst-purple);text-transform:uppercase;letter-spacing:1px;font-size:.85rem;margin-bottom:.5rem}.subtitle[_ngcontent-%COMP%]{margin-top:.5rem;margin-bottom:2rem;color:#718096;line-height:1.5}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:1.25rem;font-size:.9rem;color:var(--text-color);font-weight:600}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background:#f7fafc;border:2px solid var(--border-color);color:var(--text-color);border-radius:1rem;padding:.9rem 1rem;font-size:1rem;font-family:var(--font-family-base);transition:border-color .2s}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .field[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{border-color:var(--analyst-purple);outline:none;background:#fff}.field[_ngcontent-%COMP%]   input.invalid[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   select.invalid[_ngcontent-%COMP%]{border-color:#fc8181}.field-error[_ngcontent-%COMP%]{color:#e53e3e;font-size:.8rem;margin-top:.25rem}.primary-action[_ngcontent-%COMP%]{width:100%;border:none;padding:1rem;border-radius:1rem;font-size:1.1rem;font-weight:700;color:#fff;background:var(--analyst-purple);cursor:pointer;transition:transform .2s,box-shadow .2s;margin-top:1rem;box-shadow:0 4px 14px #88619a66}.primary-action[disabled][_ngcontent-%COMP%]{opacity:.8;cursor:not-allowed;box-shadow:none;transform:none}.primary-action[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.5rem}.primary-action[_ngcontent-%COMP%]   .loading-indicator[_ngcontent-%COMP%]{width:1rem;height:1rem;border-radius:50%;border:2px solid rgba(255,255,255,.35);border-top-color:#fff;animation:_ngcontent-%COMP%_spin .85s linear infinite}.primary-action.loading[_ngcontent-%COMP%]{pointer-events:none;box-shadow:none}.primary-action[_ngcontent-%COMP%]:not(.loading)   .loading-indicator[_ngcontent-%COMP%]{display:none}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.primary-action[_ngcontent-%COMP%]:focus-visible{outline:3px solid rgba(136,97,154,.6);outline-offset:2px}.primary-action[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #88619a99}.primary-action[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;transform:none}.secondary-action[_ngcontent-%COMP%]{width:100%;background:transparent;border:2px solid var(--border-color);margin-top:.5rem}.note[_ngcontent-%COMP%]{margin-top:1.5rem;font-size:.9rem;color:#718096;text-align:center}.note[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--analyst-purple);text-decoration:none;font-weight:700}.note[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.feedback[_ngcontent-%COMP%]{margin-top:1rem;min-height:1.25rem;font-size:.9rem;text-align:center;font-weight:600}.feedback.success[_ngcontent-%COMP%]{color:var(--diplomat-green)}.feedback.error[_ngcontent-%COMP%]{color:#e53e3e}.policy-list[_ngcontent-%COMP%]{margin-top:1rem;font-size:.85rem;color:#718096;display:grid;gap:.25rem}.policy-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:disc;margin-left:1.25rem}.checkbox-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.checkbox-row[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:1.2rem;height:1.2rem;border-radius:.4rem;accent-color:var(--analyst-purple)}"]})};var fe=t=>{let n=t.get("password"),a=t.get("confirmPassword");return!n||!a||n.value===a.value?null:{passwordsMismatch:!0}};var he=[{test:t=>t.length>=8,message:"La contrase\xF1a debe tener al menos 8 caracteres"},{test:t=>/[0-9]/.test(t),message:"La contrase\xF1a debe incluir al menos un n\xFAmero"},{test:t=>/[A-Z]/.test(t),message:"La contrase\xF1a debe incluir al menos una letra may\xFAscula"},{test:t=>/[a-z]/.test(t),message:"La contrase\xF1a debe incluir al menos una letra min\xFAscula"}];function be(t){return t?he.filter(n=>!n.test(t)).map(n=>n.message):he.map(n=>n.message)}function ke(t,n){t&1&&(o(0,"small",6),i(1," Indica tu nombre completo. "),r())}function Se(t,n){t&1&&(o(0,"small",6),i(1," El email es requerido. "),r())}function Re(t,n){t&1&&(o(0,"small",6),i(1," Ingresa un correo v\xE1lido. "),r())}function Ae(t,n){t&1&&(o(0,"small",6),i(1," Las contrase\xF1as deben coincidir. "),r())}function Te(t,n){if(t&1&&(o(0,"li"),i(1),r()),t&2){let a=n.$implicit;s(),S(a)}}function Ne(t,n){if(t&1&&(o(0,"ul",10),ie(1,Te,2,1,"li",null,re),r()),t&2){let a=se();s(),ae(a.passwordPolicyErrors)}}var Z=class t{fb=l(D);authService=l(w);session=l(P);router=l(b);cdr=l(R);registration=this.fb.group({fullName:["",u.required],email:["",[u.required,u.email]],password:["",u.required],confirmPassword:["",u.required],rememberMe:[!1]},{validators:fe});feedback="";success=!1;loading=!1;get passwordPolicyErrors(){return be(this.registration.controls.password.value??"")}onSubmit(){if(this.registration.invalid||this.passwordPolicyErrors.length>0){this.registration.markAllAsTouched();return}let{email:n,password:a,rememberMe:e}=this.registration.value,f={email:n??"",password:a??"",rememberMe:!!e};this.loading=!0,this.feedback="",this.authService.register(f).pipe(E(()=>{this.loading=!1,this.cdr.detectChanges()})).subscribe({next:c=>{this.success=!0,this.feedback=c.message,this.session.saveTokens(c.tokens),this.router.navigate(["/home"])},error:c=>{this.success=!1,this.feedback=c.message}})}static \u0275fac=function(a){return new(a||t)};static \u0275cmp=h({type:t,selectors:[["app-register-page"]],decls:42,vars:21,consts:[[1,"auth-card"],[1,"eyebrow"],[1,"subtitle"],[3,"ngSubmit","formGroup"],[1,"field"],["type","text","formControlName","fullName","placeholder","Tu nombre"],[1,"field-error"],["type","email","formControlName","email","placeholder","correo@ejemplo.com"],["type","password","formControlName","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"],["type","password","formControlName","confirmPassword","placeholder","Repite la contrase\xF1a"],[1,"policy-list"],[1,"checkbox-row"],["type","checkbox","formControlName","rememberMe","id","rememberReg"],["for","rememberReg"],["type","submit",1,"primary-action",3,"disabled"],[1,"note"],["routerLink","/auth/login"],["role","status","aria-live","polite",1,"feedback"]],template:function(a,e){a&1&&(o(0,"section",0)(1,"p",1),i(2,"Registro"),r(),o(3,"h2"),i(4,"Empieza tu perfil"),r(),o(5,"p",2),i(6,"Activa tu cuenta para acceder a las pruebas vocacionales guiadas."),r(),o(7,"form",3),O("ngSubmit",function(){return e.onSubmit()}),o(8,"label",4)(9,"span"),i(10,"Nombre completo"),r(),m(11,"input",5),d(12,ke,2,0,"small",6),r(),o(13,"label",4)(14,"span"),i(15,"Correo electr\xF3nico"),r(),m(16,"input",7),d(17,Se,2,0,"small",6),d(18,Re,2,0,"small",6),r(),o(19,"label",4)(20,"span"),i(21,"Contrase\xF1a"),r(),m(22,"input",8),r(),o(23,"label",4)(24,"span"),i(25,"Confirmar contrase\xF1a"),r(),m(26,"input",9),d(27,Ae,2,0,"small",6),r(),d(28,Ne,3,0,"ul",10),o(29,"label",4)(30,"div",11),m(31,"input",12),o(32,"label",13),i(33,"Recordarme en este dispositivo"),r()()(),o(34,"button",14),i(35),r()(),o(36,"p",15),i(37," \xBFYa tienes cuenta? "),o(38,"a",16),i(39,"Ingresa aqu\xED"),r()(),o(40,"p",17),i(41),r()()),a&2&&(s(7),M("formGroup",e.registration),s(4),g("invalid",e.registration.controls.fullName.invalid&&e.registration.controls.fullName.touched),s(),p(e.registration.controls.fullName.touched&&e.registration.controls.fullName.invalid?12:-1),s(4),g("invalid",e.registration.controls.email.invalid&&e.registration.controls.email.touched),s(),p(e.registration.controls.email.touched&&e.registration.controls.email.hasError("required")?17:-1),s(),p(e.registration.controls.email.touched&&e.registration.controls.email.hasError("email")?18:-1),s(4),g("invalid",e.registration.controls.password.invalid&&e.registration.controls.password.touched),s(4),g("invalid",e.registration.controls.confirmPassword.invalid&&e.registration.controls.confirmPassword.touched||(e.registration.errors==null?null:e.registration.errors.passwordsMismatch)),s(),p(e.registration.errors!=null&&e.registration.errors.passwordsMismatch?27:-1),s(),p(e.passwordPolicyErrors.length?28:-1),s(6),M("disabled",e.registration.invalid||e.loading||e.passwordPolicyErrors.length>0),s(),v(" ",e.loading?"Registrando...":"Registrarme"," "),s(5),g("success",e.success)("error",e.feedback&&!e.success),s(),v(" ",e.feedback," "))},dependencies:[j,I,N,T,z,F,H,L,C,x],styles:["[_nghost-%COMP%]{display:block;width:100%}.auth-card[_ngcontent-%COMP%]{width:min(420px,100%);background:var(--card-bg);border-radius:2rem;padding:2.5rem;border:1px solid var(--border-color);box-shadow:0 10px 25px #0000000d}.auth-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.75rem;font-weight:800;color:var(--text-color)}.eyebrow[_ngcontent-%COMP%]{font-weight:700;color:var(--analyst-purple);text-transform:uppercase;letter-spacing:1px;font-size:.85rem;margin-bottom:.5rem}.subtitle[_ngcontent-%COMP%]{margin-top:.5rem;margin-bottom:2rem;color:#718096;line-height:1.5}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:1.25rem;font-size:.9rem;color:var(--text-color);font-weight:600}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{background:#f7fafc;border:2px solid var(--border-color);color:var(--text-color);border-radius:1rem;padding:.9rem 1rem;font-size:1rem;font-family:var(--font-family-base);transition:border-color .2s}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .field[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{border-color:var(--analyst-purple);outline:none;background:#fff}.field[_ngcontent-%COMP%]   input.invalid[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   select.invalid[_ngcontent-%COMP%]{border-color:#fc8181}.field-error[_ngcontent-%COMP%]{color:#e53e3e;font-size:.8rem;margin-top:.25rem}.primary-action[_ngcontent-%COMP%]{width:100%;border:none;padding:1rem;border-radius:1rem;font-size:1.1rem;font-weight:700;color:#fff;background:var(--analyst-purple);cursor:pointer;transition:transform .2s,box-shadow .2s;margin-top:1rem;box-shadow:0 4px 14px #88619a66}.primary-action[disabled][_ngcontent-%COMP%]{opacity:.8;cursor:not-allowed;box-shadow:none;transform:none}.primary-action[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.5rem}.primary-action[_ngcontent-%COMP%]   .loading-indicator[_ngcontent-%COMP%]{width:1rem;height:1rem;border-radius:50%;border:2px solid rgba(255,255,255,.35);border-top-color:#fff;animation:_ngcontent-%COMP%_spin .85s linear infinite}.primary-action.loading[_ngcontent-%COMP%]{pointer-events:none;box-shadow:none}.primary-action[_ngcontent-%COMP%]:not(.loading)   .loading-indicator[_ngcontent-%COMP%]{display:none}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.primary-action[_ngcontent-%COMP%]:focus-visible{outline:3px solid rgba(136,97,154,.6);outline-offset:2px}.primary-action[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #88619a99}.primary-action[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed;transform:none}.secondary-action[_ngcontent-%COMP%]{width:100%;background:transparent;border:2px solid var(--border-color);margin-top:.5rem}.note[_ngcontent-%COMP%]{margin-top:1.5rem;font-size:.9rem;color:#718096;text-align:center}.note[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--analyst-purple);text-decoration:none;font-weight:700}.note[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.feedback[_ngcontent-%COMP%]{margin-top:1rem;min-height:1.25rem;font-size:.9rem;text-align:center;font-weight:600}.feedback.success[_ngcontent-%COMP%]{color:var(--diplomat-green)}.feedback.error[_ngcontent-%COMP%]{color:#e53e3e}.policy-list[_ngcontent-%COMP%]{margin-top:1rem;font-size:.85rem;color:#718096;display:grid;gap:.25rem}.policy-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:disc;margin-left:1.25rem}.checkbox-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.checkbox-row[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:1.2rem;height:1.2rem;border-radius:.4rem;accent-color:var(--analyst-purple)}"]})};var Ce=[{path:"auth",component:q,children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:Y},{path:"register",component:Z},{path:"invalid-credentials",component:B}]}];var ze=()=>{let t=l(P),n=l(b);return t.hasAccessToken()?!0:(n.navigate(["/auth/login"]),!1)},$=(t,n)=>ze();var Pe=[{path:"test",canActivate:[$],loadComponent:()=>import("./chunk-QM7AEGBR.js").then(t=>t.TestPageComponent)}];var ve=[...Ce,...Pe,{path:"home",canActivate:[$],loadComponent:()=>import("./chunk-2J72HDOE.js").then(t=>t.HomePageComponent)},{path:"",redirectTo:"auth",pathMatch:"full"},{path:"**",redirectTo:"auth"}];var U=class t{constructor(n){this.session=n}intercept(n,a){let e=this.session.getAccessToken();if(!e||n.headers.has("Authorization"))return a.handle(n);let f=n.clone({setHeaders:{Authorization:`Bearer ${e}`}});return a.handle(f)}static \u0275fac=function(a){return new(a||t)(k(P))};static \u0275prov=y({token:t,factory:t.\u0275fac})};var J=class t{intercept(n,a){return a.handle(n).pipe(te(e=>{if(e.status>=400){console.error("HTTP Error Details:",{status:e.status,statusText:e.statusText,url:e.url,error:e.error,headers:e.headers});let f=e.error?.message||e.statusText||"Ocurri\xF3 un error inesperado",c=new Error(f);return c.status=e.status,c.statusText=e.statusText,c.url=e.url,c.error=e.error,Q(()=>c)}return Q(()=>e)}))}static \u0275fac=function(a){return new(a||t)};static \u0275prov=y({token:t,factory:t.\u0275fac})};var _e={providers:[ne(),le(),ge(ve),de(pe()),{provide:W,useClass:U,multi:!0},{provide:W,useClass:J,multi:!0}]};var K=class t{static \u0275fac=function(a){return new(a||t)};static \u0275cmp=h({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(a,e){a&1&&m(0,"router-outlet")},dependencies:[A],encapsulation:2})};ce(K,_e).catch(t=>console.error(t));
